import $http from "api"

let staffDetailData = {
    "617661370a362d7d382a21b7": {
        "identity": 0,
        "_id": "617661370a362d7d382a21b7",
        "__v": 0,
        "accountName": "xiaoming1",
        "avatar": "https://reactoa.hyfarsight.com/Fo2GA0iN6CAQPLLMARb9dHCDr7V-",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 0,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752519",
        "onboardingTime": "2021-10-03T07:48:00.868Z",
        "salary": "4000",
        "userName": "小明"
    },
    "6174bcfc2791a432ec436431": {
        "identity": 0,
        "_id": "6174bcfc2791a432ec436431",
        "__v": 0,
        "accountName": "zhangxiaolong",
        "avatar": "https://reactoa.hyfarsight.com/FhLLsKlTuEdNXPBkMRyZel8Ijgf3",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "东北大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302195405112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752512",
        "onboardingTime": "2021-10-29T01:54:51.333Z",
        "salary": "4000",
        "userName": "张小龙"
    },
    "6174bbe72791a432ec43640f": {
        "identity": 0,
        "_id": "6174bbe72791a432ec43640f",
        "__v": 0,
        "accountName": "xiaojun",
        "avatar": "https://reactoa.hyfarsight.com/FkxMxO9yTTaKhXo80QtPpTYqi_k6",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-10-29T01:50:08.888Z",
        "salary": "4000",
        "userName": "周瑜"
    },
    "6174bb452791a432ec4363ec": {
        "identity": 0,
        "_id": "6174bb452791a432ec4363ec",
        "__v": 0,
        "accountName": "xiaohu",
        "avatar": "https://reactoa.hyfarsight.com/FhLLsKlTuEdNXPBkMRyZel8Ijgf3",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-10-08T01:47:37.620Z",
        "salary": "4000",
        "userName": "小虎"
    },
    "6174bae12791a432ec4363d8": {
        "identity": 0,
        "_id": "6174bae12791a432ec4363d8",
        "__v": 0,
        "accountName": "xiaoliang",
        "avatar": "https://reactoa.hyfarsight.com/FoRhNkaAo_C9eGq7U_JcB_h7V05u",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112810",
        "level": null,
        "marriage": 0,
        "mobile": "13999192299",
        "onboardingTime": "2021-10-14T01:46:06.682Z",
        "salary": "4000",
        "userName": "小亮"
    },
    "617425489ed3a283ece3fa0e": {
        "identity": 0,
        "_id": "617425489ed3a283ece3fa0e",
        "__v": 0,
        "accountName": "xiaoming",
        "avatar": "https://reactoa.hyfarsight.com/FtOBkbIYWNYb64i8-TN5PaOJn_e3",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-10-07T15:07:35.764Z",
        "salary": "4000",
        "userName": "黄盖"
    },
    "6174168064b8033f102961ef": {
        "identity": 0,
        "_id": "6174168064b8033f102961ef",
        "__v": 0,
        "accountName": "xiaoming1",
        "avatar": "https://reactoa.hyfarsight.com/Fo2GA0iN6CAQPLLMARb9dHCDr7V-",
        "bankNumber": "123456789123456789",
        "department": null,
        "education": 1,
        "gender": 0,
        "graduatedSchool": "天津大学",
        "hometown": "北京市朝阳区",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-10-22T14:04:35.385Z",
        "salary": "4000",
        "userName": "小明"
    },
    "616c15d2e09195d7584be11a": {
        "identity": 0,
        "_id": "616c15d2e09195d7584be11a",
        "__v": 0,
        "accountName": "123",
        "avatar": "https://reactoa.hyfarsight.com/Fi49jkEtay2jaHzbIZreQ_OCDMz6",
        "bankNumber": "12312312312",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "123123",
        "hometown": "123123",
        "idNumber": "211302196905112819",
        "level": null,
        "marriage": 1,
        "mobile": "123123",
        "onboardingTime": "2021-09-30T12:22:30.709Z",
        "salary": "123123",
        "userName": "张三丰"
    },
    "616bc732387c414b1892567c": {
        "identity": 0,
        "_id": "616bc732387c414b1892567c",
        "__v": 0,
        "accountName": "7",
        "avatar": "https://reactoa.hyfarsight.com/Fm37xUEkBiuiZ7xT-gE4mGpDB5bJ",
        "bankNumber": "7",
        "department": null,
        "education": 1,
        "gender": 0,
        "graduatedSchool": "7",
        "hometown": "7",
        "idNumber": "211302196905112819",
        "level": null,
        "marriage": 0,
        "mobile": "7",
        "onboardingTime": "2021-10-20T06:48:14.751Z",
        "salary": "7",
        "userName": "7"
    },
    "6136d0c9cfcbda53460e7c53": {
        "identity": 0,
        "_id": "6136d0c9cfcbda53460e7c53",
        "__v": 0,
        "accountName": "zhouhuajian",
        "avatar": "https://reactoa.hyfarsight.com/FgrFy1bim4KqYgmRQdeQkKsbQ6Or",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 1,
        "gender": 0,
        "graduatedSchool": "清华大学",
        "idNumber": "211302196905112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752513",
        "onboardingTime": "2021-09-28T00:00:00.000Z",
        "salary": "10000",
        "userName": "周华健111"
    },
    "6136d09c9118d95311ab5f93": {
        "identity": 0,
        "_id": "6136d09c9118d95311ab5f93",
        "__v": 0,
        "accountName": "liujialiang",
        "avatar": "https://reactoa.hyfarsight.com/Fqzf_F7KX0PtJT0OLqpzGzcw4C2G",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302197905112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "刘家良"
    },
    "6136d023a8b0f852540e864d": {
        "identity": 0,
        "_id": "6136d023a8b0f852540e864d",
        "__v": 0,
        "accountName": "xiaokeai",
        "avatar": "https://reactoa.hyfarsight.com/FhR_8FTRdRm0BDBz8uNZs9XN0wZX",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 0,
        "graduatedSchool": "清华大学",
        "idNumber": "211302198905112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小可爱"
    },
    "6136cfc4a8b0f852540e8649": {
        "identity": 0,
        "_id": "6136cfc4a8b0f852540e8649",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 0,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199905112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小真真"
    },
    "6136cbfe233f684ec3d87081": {
        "identity": 0,
        "_id": "6136cbfe233f684ec3d87081",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302198205112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小花"
    },
    "6136cb2289721e4e19bc2336": {
        "identity": 0,
        "_id": "6136cb2289721e4e19bc2336",
        "__v": 0,
        "accountName": "xiaoming",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199205112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小明"
    },
    "6135dc54aa963b18c3262e19": {
        "identity": 0,
        "_id": "6135dc54aa963b18c3262e19",
        "__v": 0,
        "accountName": "xiaohuaidan",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199305112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2002-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小坏蛋"
    },
    "6135d94124b2ad14d3163224": {
        "identity": 0,
        "_id": "6135d94124b2ad14d3163224",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199305112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "小淘气"
    },
    "6135d92724b2ad14d3163222": {
        "identity": 0,
        "_id": "6135d92724b2ad14d3163222",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "王麻子"
    },
    "6135d90224b2ad14d3163220": {
        "identity": 0,
        "_id": "6135d90224b2ad14d3163220",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 3,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199505112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "章三"
    },
    "6135d3084adb8f10159468e3": {
        "identity": 0,
        "_id": "6135d3084adb8f10159468e3",
        "__v": 0,
        "accountName": "demo",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 2,
        "gender": 0,
        "graduatedSchool": "清华大学",
        "idNumber": "211302201005112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "韩非子1"
    },
    "6135ca6f53cc9c08d08c5461": {
        "identity": 0,
        "_id": "6135ca6f53cc9c08d08c5461",
        "__v": 0,
        "accountName": "ben",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 2,
        "gender": 0,
        "graduatedSchool": "清华大学",
        "idNumber": "211302199905112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2021-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "韩非子"
    },
    "613466e969d8a08ea0eed930": {
        "identity": 0,
        "_id": "613466e969d8a08ea0eed930",
        "__v": 0,
        "accountName": "lujialiang",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 2,
        "gender": 1,
        "graduatedSchool": "清华大学",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 0,
        "mobile": "13552752517",
        "onboardingTime": "2017-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "路嘉良"
    },
    "6133797284776a5a43570c02": {
        "identity": 0,
        "_id": "6133797284776a5a43570c02",
        "__v": 0,
        "accountName": "job123",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 2,
        "gender": 1,
        "graduatedSchool": "斯坦福大学",
        "idNumber": "211302198305112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2018-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "马云"
    },
    "6133444bed216929c17c02a0": {
        "identity": 1,
        "_id": "6133444bed216929c17c02a0",
        "__v": 0,
        "accountName": "admin",
        "bankNumber": "63170525987771222",
        "department": null,
        "education": 1,
        "gender": 1,
        "graduatedSchool": "斯坦福大学",
        "idNumber": "211302198311112819",
        "level": null,
        "marriage": 1,
        "mobile": "13552752517",
        "onboardingTime": "2003-09-04T02:44:48.476Z",
        "salary": "10000",
        "userName": "管理员"
    }
}

export default {
    namespace: "staff",
    state: {
        staffList: [],
        staffTotal: 0,
        // staffDetail: null
        // 因为接口问题，在进行$http.getStaffDetail请求时，会导致服务器内部错误，所以先暂时不发送请求，将数据固定
        staffDetail: null
    },
    reducers: {
        saveStaffList: (state, { payload }) => ({ ...state, ...payload }),
        saveStaffTotal: (state, { payload }) => ({ ...state, ...payload }),
        saveStaffDetail: (state, { payload }) => ({ ...state, ...payload }),
    },
    effects: {
        // 获取员工数据
        *_initStaffData({ payload }, { call, put }) {
            const { data: { staffList, staffTotal } } = yield call($http.getStaffList, payload);
            yield put({ type: "saveStaffList", payload: { staffList } });
            yield put({ type: "saveStaffTotal", payload: { staffTotal } });
        },
        // 获取员工详情
        *_getStaffDetail({ payload }, { put, call }) {
            // console.log(payload)
            // console.log($http.getStaffDetail)

            // 因为接口问题，在进行$http.getStaffDetail请求时，会导致服务器内部错误，所以先暂时不发送请求，将数据固定
            // const { data, msg } = yield call($http.getStaffDetail, payload);
            // console.log(data, msg, 1111)
            // yield put({ type: "saveStaffDetail", payload: { staffDetail: data || {} } });
            // console.log(staffDetailData, {})
            yield put({
                type: "saveStaffDetail",
                payload: {
                    staffDetail: staffDetailData[payload._id] || {}
                }
            })
            yield put({
                type: "common/changeIsShowDetailDialog",
                payload: { isShowDetailDialog: true }
            })
        }
    }
}